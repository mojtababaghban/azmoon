\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{azmoontools}[2018/03/16 version 1.0.0 by Mojtaba Baghban]

\RequirePackage{amsmath}
\RequirePackage{cancel}
\newif\ifsh@wnumbers
\sh@wnumberstrue
\def\b@sewidth{.5mm}
\def\h@ight{.5cm}
\def\b@rcode#1#2#3#4#5#6#7{%
	\begingroup%
	\dimen0=\b@sewidth%
	\def\stack##1##2{\oalign{##1\cr\hidewidth\ifsh@wnumbers##2\fi\hidewidth}}%
	\def\0##1{\kern##1\dimen0}%
	\def\1##1{\vrule height\h@ight width##1\dimen0}%
	\def\L##1{\ifcase##1\bc3211##1\or\bc2221##1\or\bc2122##1\or\bc1411##1%
		\or\bc1132##1\or\bc1231##1\or\bc1114##1\or\bc1312##1\or\bc1213##1%
		\or\bc3112##1\fi}%
	\def\R##1{\bgroup\let\next\1\let\1\0\let\0\next\L##1\egroup}%
	\def\G##1{\bgroup\let\bc\bcg\L##1\egroup}% reverse
	\def\bc##1##2##3##4##5{\stack{\0##1\1##2\0##3\1##4}##5}%
	\def\bcg##1##2##3##4##5{\stack{\0##4\1##3\0##2\1##1}##5}%
	\def\bcR##1##2##3##4##5##6{\R##1\R##2\R##3\R##4\R##5\R##6\11\01\11\07%
		\endgroup}%
	\stack{\07}#1%
	\11\01\11\L#2%
	\ifcase#1\L#3\L#4\L#5\L#6\L#7\or\L#3\G#4\L#5\G#6\G#7%
	\or\L#3\G#4\G#5\L#6\G#7\or\L#3\G#4\G#5\G#6\L#7%
	\or\G#3\L#4\L#5\G#6\G#7\or\G#3\G#4\L#5\L#6\G#7%
	\or\G#3\G#4\G#5\L#6\L#7\or\G#3\L#4\G#5\L#6\G#7%
	\or\G#3\L#4\G#5\G#6\L#7\or\G#3\G#4\L#5\G#6\L#7%
	\fi\01\11\01\11\01\bcR%
}
\newcommand\pvector[1]{%
	\renewcommand{\arraystretch}{.6666}
	\begin{bmatrix}
		#1
	\end{bmatrix}
}
\newcommand\strikeoutup[2][]{%
	\renewcommand{\arraystretch}{.1}
	\begin{tabular}[b]{@{}c@{}} 
		#1\\
		\cancel{#2}
	\end{tabular}
	\renewcommand{\arraystretch}{1}
}
\newcommand\strikeoutdown[2][]{%
	\renewcommand{\arraystretch}{.1}
	\begin{tabular}[t]{@{}c@{}} 
		\cancel{#2}\\
		#1
	\end{tabular}
	\renewcommand{\arraystretch}{1}
}
\newcommand{\strikeout}[2][]{\strikeoutup[#1]{#2}}
\newcommand{\barcode}[2][]{%
	\pgfkeys{
		/barcode/.cd,
		show numbers/.is if=sh@wnumbers,
		height/.value required,
		height/.store in=\h@ight,
		base width/.value required,
		base width/.store in=\b@sewidth,
	}%
	\pgfkeys{
		/barcode/.cd,
		#1
	}%
	\lr{\b@rcode #2}%
}